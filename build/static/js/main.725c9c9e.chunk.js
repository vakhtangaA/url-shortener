(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,n,t){},209:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t.n(c),s=t(11),a=t.n(s),i=(t(119),t(12)),o=t(107),l=t(108),j=t(22),u=t(3),d=function(e){var n=e.component,t=Object(l.a)(e,["component"]);return Object(u.jsx)(i.a,Object(o.a)({component:Object(j.c)(n,{onRedirecting:function(){return Object(u.jsx)("h1",{children:"Loading..."})}})},t))},b=t(54),h=t.n(b),O=t(250),p=t(251),x=t(252),m=t(253),f=t(33),v=t(106),g=t(258),N=t(96),k=t.n(N),y=t(32);function w(e){var n=e.logout,t=r.a.useState(null),c=Object(f.a)(t,2),s=c[0],a=c[1],i=function(){a(null)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(k.a,{"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},className:"bgMenu"}),Object(u.jsxs)(v.a,{id:"simple-menu",className:"menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:i,children:[Object(u.jsx)(y.b,{to:"/",children:Object(u.jsx)(g.a,{onClick:i,children:"Home"})}),Object(u.jsx)(y.b,{to:"profile",children:Object(u.jsx)(g.a,{onClick:i,children:"Profile"})}),Object(u.jsx)(g.a,{onClick:i,children:"Dashboard"}),Object(u.jsx)(g.a,{onClick:function(){i(),n({returnTo:window.location.origin})},children:"Logout"})]})]})}var P=Object(O.a)((function(e){return{root:{flexGrow:1,width:"100%","& div":{justifyContent:"flex-end","& a":{color:"#52525B"},"& button":{fontSize:"1rem",fontWeight:"bold"}}},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logo:{flexGrow:"1",fontFamily:"cursive",color:"#404040"}}}));function C(){var e=Object(j.b)(),n=e.user,t=e.loginWithRedirect,c=e.logout,r=e.isAuthenticated,s=e.isLoading;console.log(n);var a=P();return Object(u.jsx)(p.a,{position:"static",className:a.root,children:Object(u.jsxs)(x.a,{children:[Object(u.jsx)("h1",{className:a.logo,children:"GoPeer"}),s?null:r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:n.picture,style:{width:"40px",borderRadius:"2rem"},alt:"account img"}),Object(u.jsx)(w,{logout:c})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m.a,{onClick:t,color:"inherit",children:"Login"}),Object(u.jsx)(m.a,{onClick:function(){return t({screen_hint:"signup"})},color:"inherit",children:"Register"})]})]})})}var F=t(66),L=t.n(F),S=t(100),R=t(101),E=t.n(R),A=t(256),B=t(102),D=t.n(B),I=t(259),U=t(257),q=t(254);var G=function(){var e=Object(c.useState)(""),n=Object(f.a)(e,2),t=n[0],r=n[1],s=Object(c.useState)(""),a=Object(f.a)(s,2),i=a[0],o=a[1],l=Object(c.useState)(!0),d=Object(f.a)(l,2),b=d[0],O=d[1],p=Object(c.useState)(!1),x=Object(f.a)(p,2),v=x[0],g=x[1],N=Object(j.b)().user;Object(c.useEffect)((function(){setTimeout((function(){O(!1)}),1e3)}),[b]);var k=function(){var e=Object(S.a)(L.a.mark((function e(){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=i,e.next=4,navigator.clipboard.writeText(n);case 4:O(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to copy: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{className:"shortenForm",onSubmit:function(e){e.preventDefault(),g(!0),E.a.isURL(t,{require_protocol:!0})?(h.a.post("/api/shorten",{url:t}).then((function(e){g(!1),o("https://url-shortener-gol.herokuapp.com/".concat(e.data.hash))})).catch((function(e){return console.log(e)})),N&&h.a.post("/api/create",{name:N.name,email:N.email,url:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))):alert("Please ensure this url is correct and includes http(s) protocol")},children:[Object(u.jsx)(A.a,{placeholder:"Enter URL with http(s)",variant:"filled",onChange:function(e){r(e.target.value)},value:t}),Object(u.jsx)(m.a,{color:"primary",variant:"contained",type:"submit",value:"shorten",size:"large",className:"shortenButton",children:"Shorten"}),v?Object(u.jsx)(q.a,{className:"circularProgress",color:"secondary"}):i?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A.a,{variant:"outlined",size:"small",className:"shortUrlInput",value:i||"",InputProps:{endAdornment:Object(u.jsx)(I.a,{position:"end",className:"copyAdornment",style:{cursor:"pointer"},onClick:k,children:Object(u.jsx)(D.a,{})})}}),b?Object(u.jsx)(U.a,{severity:"info",className:"copyAlert",children:"link copied"}):null]}):null]})})},T=t(103),W=t(104);var z=function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(T.a,{icon:W.a,className:"ftIcon"}),Object(u.jsx)("span",{children:"2021"}),Object(u.jsx)("span",{children:"url-shortener"})]})})};var _=function(){var e=Object(j.b)().user,n=e||{},t=n.name,c=n.nickname,r=void 0===c?"anonymous":c,s=n.email,a=n.locale,i=n.email_verified;return e?Object(u.jsx)("div",{className:"profileWithPicture",children:Object(u.jsxs)("div",{className:"profile-info",children:[Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Name: "}),Object(u.jsxs)("span",{children:[" ",t]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Nickname: "}),Object(u.jsxs)("span",{children:[" ",r]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Email: "}),Object(u.jsxs)("span",{children:[" ",s]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Locale: "}),Object(u.jsxs)("span",{children:[" ",a]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Email Verified: "}),Object(u.jsxs)("span",{children:[" ",i?"Yes":"No"]})]})]})}):null},H=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C,{}),Object(u.jsxs)(i.c,{children:[Object(u.jsxs)(i.a,{path:"/",exact:!0,children:[Object(u.jsx)(G,{}),Object(u.jsx)(z,{})]}),Object(u.jsx)(d,{path:"/profile",component:_})]})]})},J=t(105),M=t(255),K=Object(J.a)({palette:{primary:{main:"#D4D4D4"},secondary:{main:"#525252"}}});a.a.render(Object(u.jsx)(y.a,{children:Object(u.jsx)(M.a,{theme:K,children:Object(u.jsx)(j.a,{domain:"dev-asqqr4rn.eu.auth0.com",clientId:"qL6NkidsXUH8F995PAKxWQ21Ovsinpe5",redirectUri:window.location.origin,children:Object(u.jsx)(H,{})})})}),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.725c9c9e.chunk.js.map
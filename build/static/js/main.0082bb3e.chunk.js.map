{"version":3,"sources":["auth/protected-route.js","components/Menu.js","components/Layout/Navbar.js","components/ShortenForm.js","components/Layout/Footer.js","components/Profile.js","App.js","index.js"],"names":["ProtectedRoute","component","args","withAuthenticationRequired","onRedirecting","SimpleMenu","logout","React","useState","anchorEl","setAnchorEl","handleClose","aria-haspopup","onClick","event","currentTarget","className","Menu","id","keepMounted","open","Boolean","onClose","to","MenuItem","returnTo","window","location","origin","useStyles","makeStyles","theme","root","flexGrow","width","justifyContent","color","fontSize","fontWeight","menuButton","marginRight","spacing","title","logo","fontFamily","Navbar","useAuth0","user","loginWithRedirect","isAuthenticated","isLoading","console","log","classes","AppBar","position","Toolbar","src","picture","style","borderRadius","alt","Button","screen_hint","ShortenForm","longUrl","setLongUrl","shortUrl","setShortUrl","visible","setVisible","setLoading","useEffect","setTimeout","handleCopy","a","toCopy","navigator","clipboard","writeText","error","onSubmit","e","preventDefault","validator","isURL","require_protocol","axios","post","url","then","res","data","hash","catch","err","name","email","alert","TextField","placeholder","variant","onChange","target","value","type","size","CircularProgress","InputProps","endAdornment","InputAdornment","cursor","Alert","severity","Footer","icon","faCopyright","Profile","nickname","locale","email_verified","App","path","exact","createMuiTheme","palette","primary","main","secondary","ReactDOM","render","ThemeProvider","domain","process","clientId","redirectUri","document","getElementById"],"mappings":"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","file":"static/js/main.0082bb3e.chunk.js","sourcesContent":["import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { withAuthenticationRequired } from \"@auth0/auth0-react\";\n\nconst ProtectedRoute = ({ component, ...args }) => (\n  <Route\n    component={withAuthenticationRequired(component, {\n      onRedirecting: () => <h1>Loading...</h1>,\n    })}\n    {...args}\n  />\n);\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { Link } from \"react-router-dom\";\n\nexport default function SimpleMenu({ logout }) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <MenuIcon\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        className=\"bgMenu\"\n      ></MenuIcon>\n      <Menu\n        id=\"simple-menu\"\n        className=\"menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link to=\"/\">\n          <MenuItem onClick={handleClose}>Home</MenuItem>\n        </Link>\n        <Link to=\"profile\">\n          <MenuItem onClick={handleClose}>Profile</MenuItem>\n        </Link>\n        <MenuItem onClick={handleClose}>Dashboard</MenuItem>\n        <MenuItem\n          onClick={() => {\n            handleClose();\n            logout({ returnTo: window.location.origin });\n          }}\n        >\n          Logout\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n}\n","import React from \"react\";\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\n\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport Menu from \"../Menu\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    \"& div\": {\n      justifyContent: \"flex-end\",\n      \"& a\": {\n        color: \"#52525B\",\n      },\n      \"& button\": {\n        fontSize: \"1rem\",\n        fontWeight: \"bold\",\n      },\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  logo: {\n    flexGrow: \"1\",\n    fontFamily: \"cursive\",\n    color: \"#404040\",\n  },\n}));\n\nexport default function Navbar() {\n  const { user, loginWithRedirect, logout, isAuthenticated, isLoading } =\n    useAuth0();\n\n  console.log(user);\n\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\" className={classes.root}>\n      <Toolbar>\n        <h1 className={classes.logo}>GoPeer</h1>\n        {isLoading ? null : isAuthenticated ? (\n          <>\n            <img\n              src={user.picture}\n              style={{ width: \"40px\", borderRadius: \"2rem\" }}\n              alt=\"account img\"\n            ></img>\n            <Menu logout={logout} />\n          </>\n        ) : (\n          <>\n            <Button onClick={loginWithRedirect} color=\"inherit\">\n              Login\n            </Button>\n            <Button\n              onClick={() =>\n                loginWithRedirect({\n                  screen_hint: \"signup\",\n                })\n              }\n              color=\"inherit\"\n            >\n              Register\n            </Button>\n          </>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport validator from \"validator\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport { TextField, Button } from \"@material-ui/core\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport { InputAdornment } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nfunction ShortenForm() {\n  const [longUrl, setLongUrl] = useState(\"\");\n  const [shortUrl, setShortUrl] = useState(\"\");\n  const [visible, setVisible] = useState(true);\n  const [isLoading, setLoading] = useState(false);\n\n  const { user } = useAuth0();\n\n  useEffect(() => {\n    setTimeout(() => {\n      setVisible(false);\n    }, 1000);\n  }, [visible]);\n\n  const handleLongUrl = (e) => {\n    setLongUrl(e.target.value);\n  };\n\n  const handleCopy = async () => {\n    try {\n      const toCopy = shortUrl;\n      await navigator.clipboard.writeText(toCopy);\n      setVisible(true);\n    } catch (err) {\n      console.error(\"Failed to copy: \", err);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const validURL = validator.isURL(longUrl, {\n      require_protocol: true,\n    });\n\n    if (!validURL) {\n      alert(\"Please ensure this url is correct and includes http(s) protocol\");\n    } else {\n      axios\n        .post(\"/api/shorten\", {\n          url: longUrl,\n        })\n        .then((res) => {\n          setLoading(false);\n          setShortUrl(\n            `https://url-shortener-gol.herokuapp.com/${res.data.hash}`\n          );\n        })\n        .catch((err) => console.log(err));\n\n      if (user) {\n        axios.post(\"/api/create\", {\n          name: user.name,\n          email: user.email,\n        });\n      }\n    }\n  };\n  return (\n    <div>\n      <form className=\"shortenForm\" onSubmit={handleSubmit}>\n        <TextField\n          placeholder=\"Enter URL with http(s)\"\n          variant=\"filled\"\n          onChange={handleLongUrl}\n          value={longUrl}\n        ></TextField>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          type=\"submit\"\n          value=\"shorten\"\n          size=\"large\"\n          className=\"shortenButton\"\n        >\n          Shorten\n        </Button>\n\n        {isLoading ? (\n          <CircularProgress className=\"circularProgress\" color=\"secondary\" />\n        ) : shortUrl ? (\n          <>\n            <TextField\n              variant=\"outlined\"\n              size=\"small\"\n              className=\"shortUrlInput\"\n              value={shortUrl ? shortUrl : \"\"}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment\n                    position=\"end\"\n                    className=\"copyAdornment\"\n                    style={{ cursor: \"pointer\" }}\n                    onClick={handleCopy}\n                  >\n                    <FileCopyIcon />\n                  </InputAdornment>\n                ),\n              }}\n            ></TextField>\n            {visible ? (\n              <Alert severity=\"info\" className=\"copyAlert\">\n                link copied\n              </Alert>\n            ) : null}\n          </>\n        ) : null}\n      </form>\n    </div>\n  );\n}\n\nexport default ShortenForm;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCopyright } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div>\n        <FontAwesomeIcon icon={faCopyright} className=\"ftIcon\" />\n        <span>2021</span>\n        <span>url-shortener</span>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nfunction Profile() {\n  const { user } = useAuth0();\n  const {\n    name,\n    nickname = \"anonymous\",\n    email,\n    locale,\n    email_verified,\n  } = user || {};\n\n  return user ? (\n    <div className=\"profileWithPicture\">\n      <div className=\"profile-info\">\n        <div className=\"spanParent\">\n          <span>Name: </span>\n          <span> {name}</span>\n        </div>\n        <div className=\"spanParent\">\n          <span>Nickname: </span>\n          <span> {nickname}</span>\n        </div>\n        <div className=\"spanParent\">\n          <span>Email: </span>\n          <span> {email}</span>\n        </div>\n        <div className=\"spanParent\">\n          <span>Locale: </span>\n          <span> {locale}</span>\n        </div>\n        <div className=\"spanParent\">\n          <span>Email Verified: </span>\n          <span> {email_verified ? \"Yes\" : \"No\"}</span>\n        </div>\n      </div>\n    </div>\n  ) : null;\n}\n\nexport default Profile;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport ProtectedRoute from \"./auth/protected-route\";\nimport Navbar from \"./components/Layout/Navbar\";\nimport ShortenForm from \"./components/ShortenForm\";\nimport Footer from \"./components/Layout/Footer\";\nimport Profile from \"./components/Profile\";\n\nconst App = () => {\n  return (\n    <>\n      <Navbar />\n      <Switch>\n        <Route path=\"/\" exact>\n          <ShortenForm />\n          <Footer />\n        </Route>\n        <ProtectedRoute path=\"/profile\" component={Profile}></ProtectedRoute>\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst domain = process.env.REACT_APP_AUTH0_DOMAIN;\nconst clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#D4D4D4\",\n    },\n    secondary: {\n      main: \"#525252\",\n    },\n  },\n});\n\nReactDOM.render(\n  <BrowserRouter>\n    <ThemeProvider theme={theme}>\n      <Auth0Provider\n        domain={domain}\n        clientId={clientId}\n        redirectUri={window.location.origin}\n      >\n        <App />\n      </Auth0Provider>\n    </ThemeProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
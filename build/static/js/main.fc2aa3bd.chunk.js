(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),o=n.n(r),i=(n(182),n(17)),s=n(142),l=n(156),d=n(38),j=n(5),h=function(e){var t=e.component,n=Object(l.a)(e,["component"]);return Object(j.jsx)(i.a,Object(s.a)({component:Object(d.c)(t,{onRedirecting:function(){return Object(j.jsx)("h1",{children:"Loading..."})}})},n))},u=n(124),b=n(317),m=n(318),g=n(61),O=n(8),p=n(155),x=n(43),f=n(144),v=n.n(f),N=n(36);function U(e){var t=e.logout,n=c.a.useState(null),a=Object(O.a)(n,2),r=a[0],o=a[1],i=function(){o(null)};return Object(j.jsxs)("div",{children:[Object(j.jsx)(v.a,{"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},className:"bgMenu"}),Object(j.jsxs)(p.a,{id:"simple-menu",className:"menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:i,children:[Object(j.jsx)(N.b,{to:"/",children:Object(j.jsx)(x.a,{onClick:i,children:"Home"})}),Object(j.jsx)(N.b,{to:"profile",children:Object(j.jsx)(x.a,{onClick:i,children:"Profile"})}),Object(j.jsx)(N.b,{to:"dashboard",children:Object(j.jsx)(x.a,{onClick:i,children:"Dashboard"})}),Object(j.jsx)(x.a,{onClick:function(){i(),t({returnTo:window.location.origin})},children:"Logout"})]})]})}var w=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100%","& div":{justifyContent:"flex-end","& a":{color:"#52525B"},"& button":{fontSize:"1rem",fontWeight:"bold"}}},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logo:{flexGrow:"1",fontFamily:"cursive",color:"whitesmoke"}}}));function k(){var e=Object(d.b)(),t=e.user,n=e.loginWithRedirect,a=e.logout,c=e.isAuthenticated,r=e.isLoading;console.log(t);var o=w();return Object(j.jsx)(b.a,{position:"static",className:o.root,children:Object(j.jsxs)(m.a,{children:[Object(j.jsx)("h1",{className:o.logo,children:"GoPeer"}),r?null:c?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:t.picture,style:{width:"40px",borderRadius:"2rem"},alt:"account img"}),Object(j.jsx)(U,{logout:a})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{onClick:n,color:"inherit",children:"Login"}),Object(j.jsx)(g.a,{onClick:function(){return n({screen_hint:"signup"})},color:"inherit",children:"Register"})]})]})})}var y=n(102),S=n.n(y),I=n(148),C=n(149),L=n.n(C),E=n(54),F=n.n(E),R=n(112),B=n(150),T=n.n(B),A=n(321),G=n(324),z=n(279);var P=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(O.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(!0),h=Object(O.a)(l,2),u=h[0],b=h[1],m=Object(a.useState)(!1),p=Object(O.a)(m,2),x=p[0],f=p[1],v=Object(d.b)().user;Object(a.useEffect)((function(){setTimeout((function(){b(!1)}),1e3)}),[u]);var N=function(){var e=Object(I.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=i,e.next=4,navigator.clipboard.writeText(t);case 4:b(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to copy: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:"shortenForm",onSubmit:function(e){e.preventDefault(),f(!0),L.a.isURL(n,{require_protocol:!0})?(F.a.post("/api/shorten",{url:n}).then((function(e){f(!1),s("https://url-shortener-gol.herokuapp.com/".concat(e.data.hash))})).catch((function(e){return console.log(e)})),v&&F.a.post("/api/create",{name:v.name,email:v.email,url:n}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))):alert("Please ensure this url is correct and includes http(s) protocol")},children:[Object(j.jsx)(R.a,{placeholder:"Enter URL with http(s)",variant:"filled",onChange:function(e){c(e.target.value)},value:n}),Object(j.jsx)(g.a,{color:"primary",variant:"contained",type:"submit",value:"shorten",size:"large",className:"shortenButton",children:"Shorten"}),x?Object(j.jsx)(z.a,{className:"circularProgress",color:"secondary"}):i?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(R.a,{variant:"outlined",size:"small",className:"shortUrlInput",value:i||"",InputProps:{endAdornment:Object(j.jsx)(A.a,{position:"end",className:"copyAdornment",style:{cursor:"pointer"},onClick:N,children:Object(j.jsx)(T.a,{})})}}),u?Object(j.jsx)(G.a,{severity:"info",className:"copyAlert",children:"link copied"}):null]}):null]})})},D=n(151),q=n(152);var H=function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(D.a,{icon:q.a,className:"ftIcon"}),Object(j.jsx)("span",{children:"2021"}),Object(j.jsx)("span",{children:"url-shortener"})]})})},M=n(322),W=n(107),_=n(103),J=n.n(_),K=Object(u.a)((function(e){return{root:{padding:"1rem"},paper:{width:"100%",padding:".8rem",marginBottom:"2rem","& span, i":{display:"block"},"& span":{color:"#1976d2",marginBottom:"0.4rem"},"& i":{marginBottom:"1rem",color:"#424242"},"& .totalUrl":{display:"flex","& > div":{flexGrow:"1"},"& .totalImageIcon":{alignSelf:"center",color:"grey",rotate:"-45deg"}}}}}));var Q=function(){var e=Object(a.useState)({}),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(d.b)().user,o=r||{},i=o.name,s=o.nickname,l=void 0===s?"anonymous":s,h=o.email,u=o.locale,b=o.email_verified,m=K();return Object(a.useEffect)((function(){F.a.get("/api/user/".concat(h)).then((function(e){c(e),console.log(e)})).catch((function(e){console.log(e)})),F.a.get("/api/urls/").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),[h]),r?Object(j.jsxs)(M.a,{xs:12,container:!0,item:!0,className:m.root,spacing:2,children:[Object(j.jsx)(M.a,{item:!0,xs:12,sm:6,children:Object(j.jsxs)(W.a,{className:m.paper,elevation:9,children:[Object(j.jsxs)("span",{children:["Name: ",Object(j.jsx)("i",{children:i})]}),Object(j.jsxs)("span",{children:["Nickname: ",Object(j.jsx)("i",{children:l})]}),Object(j.jsxs)("span",{children:["Email: ",Object(j.jsx)("i",{children:h})]}),Object(j.jsxs)("span",{children:["Locale: ",Object(j.jsx)("i",{children:u})]}),Object(j.jsxs)("span",{children:["Email Verified: ",Object(j.jsx)("i",{children:b?"Yes":"No"})]})]})}),Object(j.jsxs)(M.a,{item:!0,xs:12,sm:6,container:!0,alignItems:"center",children:[Object(j.jsx)(W.a,{className:m.paper,elevation:9,children:Object(j.jsxs)("div",{className:"totalUrl",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{children:["TOTAL URLS:",Object(j.jsx)("i",{children:n.data?n.data.urls.length:0})]}),Object(j.jsx)(N.b,{to:"dashboard",children:"Go to dashboard"})]}),Object(j.jsx)(J.a,{fontSize:"large",className:"totalImageIcon"})]})}),Object(j.jsx)(W.a,{className:m.paper,elevation:9,children:Object(j.jsxs)("div",{className:"totalUrl",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{children:["URLS ADDED THIS MONTH:",Object(j.jsx)("i",{children:n.data?n.data.urls.length:0})]}),Object(j.jsx)(N.b,{to:"dashboard",children:"Go to dashboard"})]}),Object(j.jsx)(J.a,{fontSize:"large",className:"totalImageIcon"})]})})]})]}):null},V=n(153),X=[{field:"n",headerName:"N",width:90},{field:"originalUrl",headerName:"Original url",width:250},{field:"shortUrl",headerName:"Short url",width:250}],Y=[{id:1,n:1,originalUrl:"https://material-ui.com/components/data-grid/",shortUrl:"fdafgdgfdagagadgadad"},{id:2,n:2,originalUrl:"https://material-ui.com/components/data-grid/",shortUrl:"fdafgdgfdagagadgadad"},{id:3,n:3,originalUrl:"https://material-ui.com/components/data-grid/",shortUrl:"fdafgdgfdagagadgadad"},{id:4,n:4,originalUrl:"https://material-ui.com/components/data-grid/",shortUrl:"fdafgdgfdagagadgadad"},{id:5,n:5,originalUrl:"https://material-ui.com/components/data-grid/",shortUrl:"fdafgdgfdagagadgadad"},{id:6,n:6,originalUrl:"https://material-ui.com/components/data-grid/",shortUrl:"fdafgdgfdagagadgadad"},{id:7,n:7,originalUrl:"https://material-ui.com/components/data-grid/",shortUrl:"fdafgdgfdagagadgadad"}];var Z=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2);return t[0],t[1],Object(a.useEffect)((function(){F.a.get("/api/urls/").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),[]),Object(j.jsx)("div",{style:{height:400,width:"100%"},children:Object(j.jsx)(V.a,{rows:Y,columns:X,pageSize:5,disableSelectionOnClick:!0})})},$=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"exceptFooter",children:[Object(j.jsx)(k,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",exact:!0,children:Object(j.jsx)(P,{})}),Object(j.jsx)(h,{path:"/profile",component:Q}),Object(j.jsx)(h,{path:"/dashboard",component:Z})]})]}),Object(j.jsx)(H,{})]})},ee=n(63),te=n(323),ne=Object(ee.a)({palette:{primary:{main:"#607d8b"},secondary:{main:"#525252"}}});o.a.render(Object(j.jsx)(N.a,{children:Object(j.jsx)(te.a,{theme:ne,children:Object(j.jsx)(d.a,{domain:"dev-asqqr4rn.eu.auth0.com",clientId:"qL6NkidsXUH8F995PAKxWQ21Ovsinpe5",redirectUri:window.location.origin,children:Object(j.jsx)($,{})})})}),document.getElementById("root"))}},[[273,1,2]]]);
//# sourceMappingURL=main.fc2aa3bd.chunk.js.map
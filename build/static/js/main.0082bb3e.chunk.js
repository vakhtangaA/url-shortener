(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(11),a=n.n(s),i=(n(119),n(12)),o=n(107),l=n(108),j=n(22),u=n(3),d=function(e){var t=e.component,n=Object(l.a)(e,["component"]);return Object(u.jsx)(i.a,Object(o.a)({component:Object(j.c)(t,{onRedirecting:function(){return Object(u.jsx)("h1",{children:"Loading..."})}})},n))},b=n(54),h=n.n(b),O=n(250),p=n(251),x=n(252),m=n(253),f=n(33),v=n(106),g=n(258),N=n(96),k=n.n(N),y=n(32);function w(e){var t=e.logout,n=r.a.useState(null),c=Object(f.a)(n,2),s=c[0],a=c[1],i=function(){a(null)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(k.a,{"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},className:"bgMenu"}),Object(u.jsxs)(v.a,{id:"simple-menu",className:"menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:i,children:[Object(u.jsx)(y.b,{to:"/",children:Object(u.jsx)(g.a,{onClick:i,children:"Home"})}),Object(u.jsx)(y.b,{to:"profile",children:Object(u.jsx)(g.a,{onClick:i,children:"Profile"})}),Object(u.jsx)(g.a,{onClick:i,children:"Dashboard"}),Object(u.jsx)(g.a,{onClick:function(){i(),t({returnTo:window.location.origin})},children:"Logout"})]})]})}var P=Object(O.a)((function(e){return{root:{flexGrow:1,width:"100%","& div":{justifyContent:"flex-end","& a":{color:"#52525B"},"& button":{fontSize:"1rem",fontWeight:"bold"}}},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logo:{flexGrow:"1",fontFamily:"cursive",color:"#404040"}}}));function C(){var e=Object(j.b)(),t=e.user,n=e.loginWithRedirect,c=e.logout,r=e.isAuthenticated,s=e.isLoading;console.log(t);var a=P();return Object(u.jsx)(p.a,{position:"static",className:a.root,children:Object(u.jsxs)(x.a,{children:[Object(u.jsx)("h1",{className:a.logo,children:"GoPeer"}),s?null:r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:t.picture,style:{width:"40px",borderRadius:"2rem"},alt:"account img"}),Object(u.jsx)(w,{logout:c})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m.a,{onClick:n,color:"inherit",children:"Login"}),Object(u.jsx)(m.a,{onClick:function(){return n({screen_hint:"signup"})},color:"inherit",children:"Register"})]})]})})}var F=n(66),L=n.n(F),S=n(100),R=n(101),E=n.n(R),A=n(256),B=n(102),D=n.n(B),I=n(259),U=n(257),q=n(254);var G=function(){var e=Object(c.useState)(""),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(f.a)(s,2),i=a[0],o=a[1],l=Object(c.useState)(!0),d=Object(f.a)(l,2),b=d[0],O=d[1],p=Object(c.useState)(!1),x=Object(f.a)(p,2),v=x[0],g=x[1],N=Object(j.b)().user;Object(c.useEffect)((function(){setTimeout((function(){O(!1)}),1e3)}),[b]);var k=function(){var e=Object(S.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=i,e.next=4,navigator.clipboard.writeText(t);case 4:O(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to copy: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{className:"shortenForm",onSubmit:function(e){e.preventDefault(),g(!0),E.a.isURL(n,{require_protocol:!0})?(h.a.post("/api/shorten",{url:n}).then((function(e){g(!1),o("https://url-shortener-gol.herokuapp.com/".concat(e.data.hash))})).catch((function(e){return console.log(e)})),N&&h.a.post("/api/create",{name:N.name,email:N.email})):alert("Please ensure this url is correct and includes http(s) protocol")},children:[Object(u.jsx)(A.a,{placeholder:"Enter URL with http(s)",variant:"filled",onChange:function(e){r(e.target.value)},value:n}),Object(u.jsx)(m.a,{color:"primary",variant:"contained",type:"submit",value:"shorten",size:"large",className:"shortenButton",children:"Shorten"}),v?Object(u.jsx)(q.a,{className:"circularProgress",color:"secondary"}):i?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A.a,{variant:"outlined",size:"small",className:"shortUrlInput",value:i||"",InputProps:{endAdornment:Object(u.jsx)(I.a,{position:"end",className:"copyAdornment",style:{cursor:"pointer"},onClick:k,children:Object(u.jsx)(D.a,{})})}}),b?Object(u.jsx)(U.a,{severity:"info",className:"copyAlert",children:"link copied"}):null]}):null]})})},T=n(103),W=n(104);var z=function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(T.a,{icon:W.a,className:"ftIcon"}),Object(u.jsx)("span",{children:"2021"}),Object(u.jsx)("span",{children:"url-shortener"})]})})};var _=function(){var e=Object(j.b)().user,t=e||{},n=t.name,c=t.nickname,r=void 0===c?"anonymous":c,s=t.email,a=t.locale,i=t.email_verified;return e?Object(u.jsx)("div",{className:"profileWithPicture",children:Object(u.jsxs)("div",{className:"profile-info",children:[Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Name: "}),Object(u.jsxs)("span",{children:[" ",n]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Nickname: "}),Object(u.jsxs)("span",{children:[" ",r]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Email: "}),Object(u.jsxs)("span",{children:[" ",s]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Locale: "}),Object(u.jsxs)("span",{children:[" ",a]})]}),Object(u.jsxs)("div",{className:"spanParent",children:[Object(u.jsx)("span",{children:"Email Verified: "}),Object(u.jsxs)("span",{children:[" ",i?"Yes":"No"]})]})]})}):null},H=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C,{}),Object(u.jsxs)(i.c,{children:[Object(u.jsxs)(i.a,{path:"/",exact:!0,children:[Object(u.jsx)(G,{}),Object(u.jsx)(z,{})]}),Object(u.jsx)(d,{path:"/profile",component:_})]})]})},J=n(105),M=n(255),K=Object(J.a)({palette:{primary:{main:"#D4D4D4"},secondary:{main:"#525252"}}});a.a.render(Object(u.jsx)(y.a,{children:Object(u.jsx)(M.a,{theme:K,children:Object(u.jsx)(j.a,{domain:"dev-asqqr4rn.eu.auth0.com",clientId:"qL6NkidsXUH8F995PAKxWQ21Ovsinpe5",redirectUri:window.location.origin,children:Object(u.jsx)(H,{})})})}),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.0082bb3e.chunk.js.map